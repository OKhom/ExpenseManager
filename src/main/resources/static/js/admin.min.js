$(document).ready(function(){$("#containerCurrencies").hide(),$("#containerUsers").show(),$("#adminHead").empty().text("ADMIN (Users)"),loadData(0),loadPages("#pages"),showAdminInformation(function(e){"ADMIN"!=e.role&&window.location.assign("/index.html"),$("#navUserName").text(e.firstName+" "+e.lastName),$("#firstNameProfile").text(e.firstName),$("#lastNameProfile").text(e.lastName),$("#emailProfile").text(e.email),$("#roleProfile").text(e.role)})}),function(e){"use strict";e("#sidebarToggle, #sidebarToggleTop").on("click",function(t){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")}),e("#pages").on("click",".page-link",function(e){loadData(e.target.id),usersCount()}),e("#pagesCurrency").on("click",".page-link",function(e){loadCurrencyData(e.target.id),usersCount()}),e("#btnUsersDelete").on("click",function(){let t=e(":checked");if(t.length>0){let n={usersId:[]};t.each(function(){n.usersId.push(e(this).val())}),deleteUsers(n)}else e("#deleteUsersErrorModal").modal("show")}),e("#btnCurrencyDelete").on("click",function(){let t=e(":checked");if(t.length>0){let n={currenciesId:[]};t.each(function(){n.currenciesId.push(e(this).val())}),deleteCurrencies(n)}else e("#deleteCurrencyErrorModal").modal("show")}),e("#btnCurrencyAdd").on("click",function(){e("#addCurrencyModal").modal("show")}),e("#submitNewCurrency").on("click",function(){if(""!=e("#inputCurrencyName").val()&&""!=e("#inputCurrencyShortName").val()&&""!=e("#inputCurrencySign").val()){let t={name:e("#inputCurrencyName").val(),shortName:e("#inputCurrencyShortName").val(),sign:e("#inputCurrencySign").val()};addCurrency(t)}else e("#modalAddCurrencyErrorText").text("New Currency fields is empty or invalid. Try again...")}),e("#addCurrencyModal").on("hidden.bs.modal",function(){e(this).find("input").val("").end(),e("#modalAddCurrencyErrorText").empty()}),e("#btnCurrencyEdit").on("click",function(){let t=e(":checked");1===t.length?(setCurrencyId(t.val()),e("#editCurrencyHeader").empty().text("Edit Currency ID = "),e("#editCurrencyId").empty().text(getCurrencyId()),loadCurrencyById(getCurrencyId(),function(t){e("#inputEditedCurrencyName").empty().val(t.name),e("#inputEditedCurrencyShortName").empty().val(t.shortName),e("#inputEditedCurrencySign").empty().val(t.sign),e("#editCurrencyModal").modal("show")})):e("#editCurrencyErrorModal").modal("show")}),e("#submitEditCurrency").on("click",function(){if(""!=e("#inputEditedCurrencyName").val()&&""!=e("#inputEditedCurrencyShortName").val()&&""!=e("#inputEditedCurrencySign").val()){let t={name:e("#inputEditedCurrencyName").val(),shortName:e("#inputEditedCurrencyShortName").val(),sign:e("#inputEditedCurrencySign").val()},n=getCurrencyId();editCurrency(n,t)}else e("#modalEditCurrencyErrorText").text("Edited Currency fields is empty or invalid. Try again...")}),e("#editCurrencyModal").on("hidden.bs.modal",function(){e(this).find("input").val("").end(),e("#modalEditCurrencyErrorText").empty()}),e("#submitSearchTopbar").on("click",function(){if(""!=e("#inputSearchTopbar").val()){let t=e("#inputSearchTopbar").val();e("#containerUsers").is(":visible")?loadUsersDataByPattern(t):e("#containerCurrencies").is(":visible")&&loadCurrenciesDataByPattern(t),e("#inputSearchTopbar").val("").end()}}),e("#submitSearchDropdown").on("click",function(){if(""!=e("#inputSearchDropdown").val()){let t=e("#inputSearchDropdown").val();e("#containerUsers").is(":visible")?loadUsersDataByPattern(t):e("#containerCurrencies").is(":visible")&&loadCurrenciesDataByPattern(t),e("#inputSearchDropdown").val("").end()}}),e("#selectHome").on("click",function(){showAdminInformation(function(e){"ADMIN"==e.role?window.location.assign("/admin.html"):window.location.assign("/index.html")})}),e("#selectEditUser").on("click",function(){loadAllCurrencies(function(t){e("#inputNewUserCurrency").empty().append(e("<option>").attr("selected","").attr("value","0").append("User currency"));for(let n=0;n<t.length;n++)e("#inputNewUserCurrency").append(e("<option>").attr("class","font-weight-normal").attr("value",t[n].currencyId).append(t[n].shortName+": "+t[n].name))}),setTimeout(function(){showUserInformation(function(t){e("#editUserHeader").empty().append("Edit profile"),e("#inputNewFirstName").empty().val(t.firstName),e("#inputNewLastName").empty().val(t.lastName),e("#inputNewUserCurrency").val(t.currencyId)}),e("#editUserModal").modal("show")},70)}),e("#submitEditUser").on("click",function(){if(""!=e("#inputNewFirstName").val()&&""!=e("#inputNewLastName").val()){let t;t=0==e("#inputNewUserCurrency").val()?getUserCurrency():e("#inputNewUserCurrency").val();let n={firstName:e("#inputNewFirstName").val(),lastName:e("#inputNewLastName").val(),currencyId:t};updateUser(n)}else e("#modalEditUserErrorText").text("User's FirstName or LastName is empty. Try again...")}),e("#editUserModal").on("hidden.bs.modal",function(){let t=e(this);t.find("select").val("0"),t.find("input").val("").end(),e("#modalEditUserErrorText").empty()}),e("#selectUsers").click(function(){e("#containerUsers").is(":hidden")&&(e("#containerCurrencies").hide(),e("#containerUsers").show()),loadData(0),loadPages("#pages")}),e("#selectCurrencies").click(function(){e("#containerCurrencies").is(":hidden")&&(e("#containerUsers").hide(),e("#containerCurrencies").show()),loadCurrencyData(0),loadPages("#pagesCurrency")}),e(window).resize(function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide"),e(window).width()<480&&!e(".sidebar").hasClass("toggled")&&(e("body").addClass("sidebar-toggled"),e(".sidebar").addClass("toggled"),e(".sidebar .collapse").collapse("hide"))}),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){if(e(window).width()>768){let e=t.originalEvent,n=e.wheelDelta||-e.detail;this.scrollTop+=30*(n<0?1:-1),t.preventDefault()}}),e(document).on("scroll",function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e(document).on("click","a.scroll-to-top",function(t){let n=e(this);e("html, body").stop().animate({scrollTop:e(n.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()})}(jQuery);